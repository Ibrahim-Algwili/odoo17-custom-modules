<odoo>

    <record id="todo_report" model="ir.actions.report">
            <field name="name" >To-Do Report</field> <!-- will show to the user when he want to print the report -->
            <field name="model" >todo.task</field>
            <field name="report_type" >qweb-html</field> <!-- or (qweb-html) -->
            <field name="binding_model_id" ref="model_todo_task"/>
            <field name="binding_type">report</field> <!-- to make a button for the report -->
            <field name="report_name">todo_managment.report_todo_task_document</field> <!-- put the template id here (myaddon.templateID) -->
    </record>

<template id="report_todo_task_document">
    <t t-call="web.html_container">
        <t t-call="web.external_layout">
            <t t-foreach="docs" t-as="o">

                <style>
                    .task-box {
                        width: 100%;
                        height:70%;
                        border: 1px solid #b3addd;
                        border-radius: 6px;
                        padding: 15px;
                        background-color: #fdfdfd;
                        font-size: 20px;
                        color: #333;
                        margin-bottom: 15px;
                    }

                    .task-box h2 {
                        text-align: center;
                        color: #2c3e50;
                        margin-bottom: 10px;
                        border-bottom: 2px solid #b3addd;
                        padding-bottom: 5px;
                    }

                    .task-info {
                        margin-top: 10px;
                        margin-bottom: 10px;
                    }

                    .task-info h6 {
                        margin: 4px 0;
                        font-size: 13px;
                    }

                    .desc {
                        margin-top: 10px;
                    }

                    .desc p {
                        font-size: 25px;
                        color: #444;
                        margin: 4px 0;
                    }

                    table {
                        width: 100%;
                        height : 70%;
                        border-collapse: collapse;
                        margin-top: 12px;
                        font-size: 20px;
                    }

                    th, td {
                        border: 1px solid #b3addd;
                        text-align: center;
                        padding: 6px;
                    }

                    th {
                        background-color: #eef0ff;
                        font-weight: bold;
                    }

                    .total-row td {
                        font-weight: bold;
                        text-align: right;
                        background-color: #f5f5f5;
                    }
                </style>

                <div class="task-box">
                    <h2>Task Report</h2>

                    <div class="task-info">
                        <h4><strong>TASK:</strong> <t t-esc="o.name"/></h4>
                        <h4><strong>Due Date:</strong> <t t-esc="o.due_date"/></h4>
                        <h4><strong>Assign To:</strong> <t t-esc="o.partner_id.name"/></h4>
                        <h4><strong>Estimated Time:</strong>
                            <t t-esc="sum(o.estimated_time.mapped('time_taken'))"/> H
                        </h4>
                    </div>

                    <div class="desc">
                        <h4><strong>Description:</strong></h4>
                        <p><t t-esc="o.description or 'No description provided.'"/></p>
                    </div>

                    <table>
                        <thead>
                            <tr>
                                <th colspan="4">Timesheet</th>
                            </tr>
                            <tr>
                                <th>#</th>
                                <th>Date</th>
                                <th>Description</th>
                                <th>Time</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-set="total" t-value="0"/>
                            <t t-foreach="o.estimated_time" t-as="line" t-foreach-index="i">
                                <tr>
                                    <td>#</td>
                                    <td><t t-esc="o.due_date or ''"/></td>
                                    <td><t t-esc="line.t_description"/></td>
                                    <td><t t-esc="line.time_taken"/> H</td>
                                    <t t-set="total" t-value="total + line.time_taken"/>
                                </tr>
                            </t>
                            <tr class="total-row">
                                <td colspan="3">Total Time</td>
                                <td><t t-esc="total"/> H</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

            </t>
        </t>
    </t>
</template>



</odoo>